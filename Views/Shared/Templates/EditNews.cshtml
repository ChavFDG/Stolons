@using Stolons.Models.Users;
@using Stolons.Models.Messages;
@using Stolons.ViewModels.News
@model NewsViewModel
 

<script type='text/javascript'>
    $(document).ready(function () {
        $.datepicker.setDefaults($.datepicker.regional["fr"]);
        $.timepicker.setDefaults($.timepicker.regional['fr']);
        $('#InputPublishEnd').datetimepicker();
        $('#InputPublishStart').datetimepicker();
        });
</script>

<div class="form-horizontal">
    <hr />
    <input asp-for="News.DateOfPublication" hidden="hidden" />
    <input asp-for="News.ImageLink" hidden="hidden" />
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <div class="form-group">
        <label asp-for="News.Title" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <input asp-for="News.Title" class="form-control" />
            <span asp-validation-for="News.Title" class="text-danger" />
        </div>
    </div>
    <div class="form-group">
        <label asp-for="News.PublishAs" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <select id="News.PublishAs" class="form-control valid" name="News.PublishAs" data-val="true" aria-required="true" aria-invalid="false" aria-describedby="UserRole-error">
                @if (Model.News.PublishBy.IsProducer)
                {
                    <option value="0">Producteur</option>
                }
                @if (Model.ActiveAdherentStolon.Authorized(Role.Volunteer))
                {
                    <option value="1">Stolon</option>
                }
            </select>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="News.IsHighlight" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <input asp-for="News.IsHighlight" class="form-control" />
            <span asp-validation-for="News.IsHighlight" class="text-danger" />
        </div>
    </div>
    <div class="form-group" id="News.PublishStart">
        <label asp-for="News.PublishStart" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <input asp-for="News.PublishStart" class="form-control" id="InputPublishStart" asp-format="{0:dd/MM/yyyy HH:mm}" />
            <span asp-validation-for="News.PublishStart" class="text-danger" />
        </div>
    </div>
    <div class="form-group" id="News.PublishEnd">
        <label asp-for="News.PublishEnd" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <input asp-for="News.PublishEnd" class="form-control" id="InputPublishEnd" asp-format="{0:dd/MM/yyyy HH:mm}" />
            <span asp-validation-for="News.PublishEnd" class="text-danger" />
        </div>
    </div>
    <div class="form-group">
        <label asp-for="News.Content" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <textarea rows="5" asp-for="News.Content" class="form-control"></textarea>
            <span asp-validation-for="News.Content" class="text-danger" />
        </div>
    </div>
    <div class="form-group">
        <label asp-for="News.ImageLink" class="col-md-2 control-label"></label>
        <div class="col-md-10">
            <input type="file" accept="image/*" name="uploadFile" class="form-control" />
        </div>
    </div>
</div>