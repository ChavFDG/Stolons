@model IEnumerable<Stolons.Models.Product>

@{
    ViewData["Title"] = "Nos produits";
}


<div class="publicProductsContainer">
  <div class="row">
    <h2></h2>
  </div>
  <div class="row">
    <div id="filters">
    </div>
    <div class="products">
      <div id="products">
      </div>
    </div>
  </div>
</div>

<div id="productModal" class="modal fade"></div>
<div id="producerModal" class="modal fade"></div>

<script id="filtersTemplate" type="text/template">

  <div class="searchFilter">
    <dt><label>Recherche</label></dt>
    <dt><input id="search" type="text"></dt>
  </div>
  <div id="tree">
  </div>

</script>

<script id="productsTemplate" type="text/template">

  <% _.forEach(products, function(productModel) { %>
  <div id="product-<%= productModel.get('Id') %>">
  </div>
  <% }); %>

  <div id="emptyProducts" class="hidden">
    <span>Aucun produit disponible ou pas de produits correspondants Ã  votre recherche</span>
  </div>

</script>

<!-- Include the product template -->
@{ await Html.RenderPartialAsync("Templates/PublicProductTemplate"); }

<!-- Include the product modal template -->
@{ await Html.RenderPartialAsync("Templates/PublicProductModalTemplate"); }

<!-- Include the producer modal template -->
@{ await Html.RenderPartialAsync("Templates/ProducerModalTemplate"); }

<script src="/js/productModel.js"></script>
<script src="/js/publicProducts.js"></script>
<script src="/lib/jstree.min.js"></script>
<link rel="stylesheet" href="/css/jstree/custom.css" />
